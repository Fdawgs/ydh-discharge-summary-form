"use strict";function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}/* eslint-disable sort-keys */var gatherCustomParamsMiddleware=require("./gather-custom-params.middleware");require("regenerator-runtime"),describe("Gather Custom Params middleware",function(){test("Should return a middleware function",function(){var a=gatherCustomParamsMiddleware();expect(_typeof(a)).toBe("function")}),test("Should add customparams",function(){var a,b,c,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=gatherCustomParamsMiddleware(),b={body:{patient_nhsNo:"",patient_mrn:"5484125",patient_surname:"Zzztest",patient_forename:"Charlotte",patient_dob:"1/09/1989",patient_gender:"female",patient_addressLine1:"NHS Foundation Trust",patient_addressLine2:"Yeovil District Hospital",patient_addressCity:"Yeovil",patient_addressDistrict:"Somerset",patient_addressPostalCode:"BA21 4AT",patient_addressAccommodationType:"",gp_id:"V81999",gp_name:"0 GMP Unknown",gp_address:"Unknown GP, undefined, undefined",patient_individualRequirements:"",admission_specialty:"",admission_date:"2019-09-26",admission_time:"",admission_method:"",admission_careProvider:"",admission_ward:"",admission_source:"",discharge_specialty:"",discharge_date:"",discharge_time:"",discharge_estimatedDate:"",discharge_method:"PATIENT discharged on clinical advice or with clinical consent",discharge_careProvider:"",discharge_ward:"",discharge_destination:"",discharge_differentAddressLine1:"",discharge_differentAddressLine2:"",discharge_differentAddressCity:"",discharge_differentAddressDistrict:"",discharge_differentAddressPostalCode:"",discharge_differentAddressContactNo:"",discharge_differentAddressComments:"",clinical_admissionReason:"",clinical_initialPresentation:"",clinical_preexistingConditions:"",clinical_significantInvestigations:"",clinical_conditionManagement:"",clinical_outstandingResults:"",clinical_patientConcerns:"",clinical_significantEvents:"",clinical_adverseIncidents:"",clinical_aki:"",clinical_akiPresent:"",clinical_akiHospital:"",clinical_akiStage:"",clinical_akiMedReview:"No",clinical_dnar:"",clinical_epaccs:"",clinical_advancedCarePlan:"",followup_akiText:"",followup_akiStatus:"",signoff_nurseFirstName:"",signoff_nurseFirstDate:"",signoff_nurseFirstTime:"",signoff_nurseSecondName:"",signoff_nurseSecondDate:"",signoff_nurseSecondTime:"",signoff_drName:"",signoff_drDate:"",signoff_drTime:"",signoff_drContactNo:"",signoff_drGrade:""}},c={},d=jest.fn(),e.next=6,regeneratorRuntime.awrap(a(b,c,d));case 6:expect(b.customparams).not.toBeUndefined(),expect(d).toHaveBeenCalledTimes(1);case 8:case"end":return e.stop();}})}),test("Should push address into patient_address array",function(){var a,b,c,d;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return a=gatherCustomParamsMiddleware(),b={body:{patient_nhsNo:"",patient_mrn:"5484125",patient_surname:"Zzztest",patient_forename:"Charlotte",patient_dob:"1/09/1989",patient_gender:"female",patient_addressLine1:"NHS Foundation Trust",patient_addressLine2:"Yeovil District Hospital",patient_addressCity:"Yeovil",patient_addressDistrict:"Somerset",patient_addressPostalCode:"BA21 4AT",patient_addressAccommodationType:""}},c={},d=jest.fn(),e.next=6,regeneratorRuntime.awrap(a(b,c,d));case 6:expect(b.customparams.patient_address).not.toBeUndefined(),expect(_typeof(b.customparams.patient_address)).toBe("object"),expect(d).toHaveBeenCalledTimes(1);case 9:case"end":return e.stop();}})})});